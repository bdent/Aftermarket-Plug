(this["webpackJsonpfootasylum-backend-checker"]=this["webpackJsonpfootasylum-backend-checker"]||[]).push([[0],{137:function(e,t,a){},139:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(0),s=a.n(r),c=a(47),i=a.n(c),o=(a(137),a(20)),u=a.n(o),l=a(52),d=a(114),h=a(115),p=a(121),g=a(120),j=(a.p,a(139),a(140),a(141),a(116)),f=a(163),b=a(119),x=a(169),v=a(164),O=a(165),y=a(167),m=a(168),P=a(144)("AB7G20A8HU","b66828a8b34cae4dcd4d56bd164b0a9f").initIndex("staging_fa_products_azure_foo_desc"),k=[{key:"search",text:"Search",value:"search"},{key:"product",text:"Direct PID",value:"product"},{key:"category",text:"Category",value:"category"}],w=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).inputChange=function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({searchQuery:a}),setTimeout((function(){a===n.state.searchQuery&&n.getProduct(a)}),750);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.search=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({loading:!0}),P.search(n.state.searchQuery,{hitsPerPage:300}).then(function(){var e=Object(l.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.hits,t!==n.state.searchQuery){e.next=5;break}n.setState({searchResults:r,loading:!1}),e.next=6;break;case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlePaginationChange=function(){var e=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),e.next=3,n.setState({activePage:a.activePage});case 3:n.getProduct(n.state.searchQuery);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.getProduct=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,fetch("".concat("https://footasylum-api.herokuapp.com","?type=").concat(n.state.searchType,"&key=").concat(t,"&page=").concat(n.state.activePage));case 3:if(200!==(a=e.sent).status){e.next=11;break}return e.next=7,a.json();case 7:r=e.sent,n.setState({searchResults:0===r.data.data.products.total?[]:r.data.data.products.products,pageProperties:0===r.data.data.products.total?null:r.data.data.products.properties,loading:!1}),e.next=12;break;case 11:n.setState({searchResults:[],pageProperties:null,loading:!1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.searchMethodChanged=function(){var e=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({searchType:a.value,searchResults:[],pageProperties:null,activePage:1});case 2:n.getProduct(n.state.searchQuery);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={searchQuery:"",searchResults:[],pageProperties:null,searchType:"search",loading:!1,activePage:1},n.contextRef=Object(r.createRef)(),n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.state),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(f.a,{children:Object(n.jsxs)("div",{className:"App-container",ref:this.contextRef,children:[Object(n.jsxs)("div",{style:{width:"100%"},children:[Object(n.jsx)("div",{style:{padding:"20px 0 0 0"},children:Object(n.jsx)(b.a,{src:"https://aftermarketplug.com/build/static/media/logo.b77036b7.png",size:"medium",centered:!0})}),Object(n.jsx)(x.a,{label:Object(n.jsx)(v.a,{onChange:this.searchMethodChanged,defaultValue:"search",options:k}),labelPosition:"left",value:this.state.searchQuery,loading:this.state.loading,onChange:this.inputChange,placeholder:"Enter search query...",fluid:!0,style:{padding:"30px 0"}}),Object(n.jsx)("div",{style:{textAlign:"center"},children:this.state.pageProperties?Object(n.jsx)(O.a,{defaultActivePage:1,totalPages:this.state.pageProperties.maxpages,activePage:this.state.activePage,onPageChange:this.handlePaginationChange,ellipsisItem:null,firstItem:null,lastItem:null}):Object(n.jsx)(O.a,{defaultActivePage:1,totalPages:1,activePage:this.state.activePage,disabled:!0,ellipsisItem:null,firstItem:null,lastItem:null})})]}),Object(n.jsx)("div",{style:{padding:"20px 0"},children:Object(n.jsx)(y.a.Group,{itemsPerRow:j.isMobile?2:4,children:0!==this.state.searchResults.length?this.state.searchResults.map((function(t){if(e.state.loading)return Object(n.jsx)(y.a,{style:{padding:10},children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(m.a.Image,{square:!0}),Object(n.jsxs)(m.a.Header,{children:[Object(n.jsx)(m.a.Line,{length:"medium"}),Object(n.jsx)(m.a.Line,{length:"very short"})]})]})});console.log(t);var a=t.product.options.map((function(e){return"".concat(e.attributes.size[0]," (").concat(e.stock,")")}));return Object(n.jsxs)(y.a,{children:[Object(n.jsx)(b.a,{src:t.product.image,wrapped:!0,ui:!1}),Object(n.jsxs)(y.a.Content,{children:[Object(n.jsx)(y.a.Header,{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"pre"},children:t.product.name}),Object(n.jsx)(y.a.Meta,{children:Object(n.jsx)("span",{className:"date",children:t.product.productid})}),Object(n.jsx)(y.a.Description,{children:a.map((function(e){return Object(n.jsx)("p",{style:{padding:0,margin:0},children:e})}))})]}),Object(n.jsx)(y.a.Content,{extra:!0,children:Object(n.jsx)("strong",{children:Object(n.jsxs)("p",{children:["Total Stock: ",t.product.totalstock]})})})]})})):null})})]})})})}}]),a}(r.Component),C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,171)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root")),C()}},[[151,1,2]]]);
//# sourceMappingURL=main.968090f1.chunk.js.map