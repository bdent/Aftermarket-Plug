(this["webpackJsonpfootasylum-backend-checker"]=this["webpackJsonpfootasylum-backend-checker"]||[]).push([[0],{139:function(e,t,a){},141:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(0),s=a.n(c),r=a(33),o=a.n(r),i=(a(139),a(17)),u=a.n(i),l=a(48),d=a(116),p=a(117),h=a(124),g=a(123),j=(a.p,a(141),a(142),a(118)),b=a.n(j),f=a(79),x=(a(144),a(119)),m=a(165),v=a(122),O=a(166),k=a(171),y=a(167),w=a(168),P=a(170),C=a(172),S=a(146)("AB7G20A8HU","b66828a8b34cae4dcd4d56bd164b0a9f").initIndex("staging_fa_products_azure_foo_desc"),T=[{key:"search",text:"Search",value:"search"},{key:"product",text:"Direct PID",value:"product"},{key:"category",text:"Category",value:"category"}],I=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).inputChange=function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({searchQuery:a,activePage:1}),setTimeout((function(){a===n.state.searchQuery&&n.getProduct(a)}),750);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.search=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({loading:!0}),S.search(n.state.searchQuery,{hitsPerPage:300}).then(function(){var e=Object(l.a)(u.a.mark((function e(a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.hits,t!==n.state.searchQuery){e.next=5;break}n.setState({searchResults:c,loading:!1}),e.next=6;break;case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlePaginationChange=function(){var e=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),window.scrollTo({top:0,behavior:"smooth"}),e.next=4,n.setState({activePage:a.activePage});case 4:n.getProduct(n.state.searchQuery);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.getProduct=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,fetch("".concat("https://footasylum-api.herokuapp.com","?type=").concat(n.state.searchType,"&key=").concat(t,"&page=").concat(n.state.activePage));case 3:if(200!==(a=e.sent).status){e.next=11;break}return e.next=7,a.json();case 7:c=e.sent,n.setState({searchResults:0===c.data.data.products.total?[]:c.data.data.products.products,pageProperties:0===c.data.data.products.total?null:c.data.data.products.properties,loading:!1}),e.next=12;break;case 11:n.setState({searchResults:[],pageProperties:null,loading:!1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.searchMethodChanged=function(){var e=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({searchType:a.value,searchResults:[],pageProperties:null,activePage:1});case 2:window.scrollTo({top:0,behavior:"smooth"}),n.getProduct(n.state.searchQuery);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.skuClicked=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===n?f.b.error("MP!!!!!!!"):n<=5?(navigator.clipboard.writeText("https://www.footasylum.com/page/xt_orderform_additem/?sku=".concat(a)),f.b.warning("".concat(t," in size ").concat(c,": Copied add to cart link. ").concat(n," stock remaining... bit of a sticky one stillllll"))):(navigator.clipboard.writeText("https://www.footasylum.com/page/xt_orderform_additem/?sku=".concat(a)),f.b.success("".concat(t," in size ").concat(c,": Copied add to cart link. ").concat(n," stock remaining!")));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),n.state={searchQuery:"",searchResults:[],pageProperties:null,searchType:"search",loading:!1,activePage:1},n.contextRef=Object(c.createRef)(),n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.state),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(f.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(n.jsxs)("div",{className:"App-container",ref:this.contextRef,children:[Object(n.jsxs)("div",{style:{width:"100%"},children:[Object(n.jsx)("div",{style:{padding:"20px 0 0 0"},children:Object(n.jsx)(v.a,{src:"https://aftermarketplug.com/build/static/media/logo.b77036b7.png",size:"medium",centered:!0})}),Object(n.jsx)(O.a,{style:{width:"100%"},context:this.contextRef,children:Object(n.jsxs)("div",{style:{backgroundColor:"#2c3e50",width:"100%",padding:"0 0 20px 0"},children:[Object(n.jsx)(k.a,{label:Object(n.jsx)(y.a,{onChange:this.searchMethodChanged,defaultValue:"search",options:T}),labelPosition:"left",value:this.state.searchQuery,loading:this.state.loading,onChange:this.inputChange,placeholder:"Enter search query...",fluid:!0,style:{padding:"30px 0"}}),Object(n.jsx)("div",{style:{textAlign:"center"},children:this.state.pageProperties?Object(n.jsx)(w.a,{defaultActivePage:1,totalPages:this.state.pageProperties.maxpages,activePage:this.state.activePage,onPageChange:this.handlePaginationChange,ellipsisItem:null,firstItem:null,lastItem:null}):Object(n.jsx)(w.a,{defaultActivePage:1,totalPages:1,activePage:this.state.activePage,disabled:!0,ellipsisItem:null,firstItem:null,lastItem:null})})]})})]}),Object(n.jsx)("div",{style:{padding:"20px 20px"},children:Object(n.jsx)(P.a.Group,{itemsPerRow:x.isMobile?2:4,children:0!==this.state.searchResults.length?this.state.searchResults.map((function(t){if(e.state.loading)return Object(n.jsx)(P.a,{style:{padding:10},children:Object(n.jsxs)(C.a,{children:[Object(n.jsx)(C.a.Image,{square:!0}),Object(n.jsxs)(C.a.Header,{children:[Object(n.jsx)(C.a.Line,{length:"medium"}),Object(n.jsx)(C.a.Line,{length:"very short"})]})]})});console.log(t);var a=t.product.options.map((function(e){var t;return t=0===e.stock?"#ad0000":e.stock<=5?"#ffb300":e.stock<=13?"#ade612":e.stock<=35?"#15cf15":"#0c750f",{sku:e.sku,stock:e.stock,size:e.attributes.size[0],html:'<span ><span style="font-weight: 700">'.concat(e.attributes.size[0],'</span> <span style="color: ').concat(t,'; font-weight: 900;">(').concat(e.stock,')</span> - <span class="sku" style="--stock-color: ').concat(t,';">').concat(e.sku,"</span></span>")}}));return Object(n.jsxs)(P.a,{children:[Object(n.jsx)(v.a,{label:{ribbon:"right",content:"\xa3".concat(t.product.option.promotionpriceasnumber),color:"red"},src:t.product.image,wrapped:!0,ui:!1}),Object(n.jsxs)(P.a.Content,{children:[Object(n.jsx)(P.a.Header,{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"pre"},children:t.product.name}),Object(n.jsx)(P.a.Meta,{children:Object(n.jsx)("span",{className:"date",children:t.product.productid})}),Object(n.jsx)(P.a.Description,{children:a.map((function(a){return Object(n.jsx)("div",{onClick:function(){e.skuClicked(t.product.name,a.sku,a.stock,a.size)},dangerouslySetInnerHTML:{__html:a.html},style:{padding:0,margin:0}})}))})]}),Object(n.jsx)(P.a.Content,{extra:!0,children:Object(n.jsx)("strong",{children:Object(n.jsxs)("p",{children:["Total Stock: ",t.product.totalstock]})})}),Object(n.jsx)(P.a.Content,{extra:!0,children:"dateintroduced"in t.product?Object(n.jsx)("strong",{children:Object(n.jsxs)("p",{children:["Added ",b()(t.product.dateintroduced).fromNow()]})}):Object(n.jsx)("strong",{children:Object(n.jsx)("p",{children:"Date introduced missing!"})})})]})})):null})})]})]})})}}]),a}(c.Component),R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,174)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(I,{})}),document.getElementById("root")),R()}},[[153,1,2]]]);
//# sourceMappingURL=main.65990420.chunk.js.map